<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="static/images/logo.png" type="image/png">

    <title>{% block title %}HOTEL{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>


<body>
    <div id="main-content">
        <nav class="navbar navbar-expand-sm bg-body-tertiary fixed-top shadow-lg">
            <div class="container-fluid">
                <!-- Botón hamburguesa a la izquierda para móviles -->
                <button class="btn btn-light rounded-4 d-sm-none me-2 order-0 p-2 py-1" type="button"
                    data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="bi bi-list fs-4"></i>
                </button>

                <!-- Logo y nombre -->
                <a class="navbar-brand d-flex align-items-center" href="/inicio">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="me-2"
                        height="30" />
                    <strong>PARAISO</strong>
                </a>

                <!-- Contenido colapsable -->
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-sm-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/inicio">Inicio</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                Enlaces
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/quienes_somos">Quienes Somos</a></li>
                                <li><a class="dropdown-item" href="/servicios">Servicios</a></li>
                                <li><a class="dropdown-item" href="/noticias">Noticias</a></li>
                                <li><a class="dropdown-item" href="/contacto">Contacto</a></li>
                                <li>
                                    <hr class="dropdown-divider" />
                                </li>
                                <li><a class="dropdown-item" data-bs-toggle="modal"
                                        data-bs-target="#modalAyuda">Ayuda</a></li>
                            </ul>
                        </li>
                        <li class="nav-item d-flex align-items-center ms-3">
                            <i class="fas fa-star text-warning me-1"></i>
                            <i class="fas fa-star text-warning me-1"></i>
                            <i class="fas fa-star text-warning"></i>
                        </li>
                    </ul>

                    <form class="d-flex justify-content-center justify-content-lg-end w-100 gap-2 flex-wrap"
                        role="search">
                        <div class="btn-group">
                            <button type="button" class="btn btn-outline-primary dropdown-toggle"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Reservar
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" data-bs-toggle="modal"
                                        data-bs-target="#registroCliente">Registro Cliente</a></li>
                                <li><a class="dropdown-item" data-bs-toggle="modal"
                                        data-bs-target="#loginCliente">Ingresar como Cliente</a></li>
                                <li>
                                    <hr class="dropdown-divider" />
                                </li>
                                <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#modalPDF">
                                        Guía para Registrarse</a></li>
                            </ul>
                        </div>

                        <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                            data-bs-target="#loginUsuario" title="Solo Personal Autorizado">
                            Iniciar Sesión
                        </button>
                    </form>

                </div>
            </div>
        </nav>


        <div class="carousel-wrapper position-relative mt-5">
            <!-- Carrusel de imagenes -->

            <div id="carousel_home" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000"
                data-bs-pause="hover">
                <!-- Indicadores -->
                <div class="carousel-indicators d-none">
                    <button type="button" data-bs-target="#carousel_home" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carousel_home" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carousel_home" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>

                <div class="carousel-inner">
                    <div id="carrusel" class="carousel-item active">
                        <img id="carrusel-img" src="{{ url_for('static', filename='images/home1.jpg') }}"
                            class="d-block w-100" alt="..." />
                        <div id="carrusel-text">
                            <h4>Bienvenido al mejor hotel de la ciudad</h4>
                            <p>
                                Ubicacion accesible, infrastructuras modernas y servicios de
                                alta calidad
                            </p>
                        </div>
                    </div>
                    <div id="carrusel" class="carousel-item">
                        <img id="carrusel-img" src="{{ url_for('static', filename='images/home2.jpg') }}"
                            class="d-block w-100" alt="..." />
                        <div id="carrusel-text">
                            <h4>Ubicacion en el centro de la ciudad</h4>
                            <p>
                                Vistas panoramicas, servicios de alta calidad y una variedad de
                                opciones en el menú
                            </p>
                        </div>
                    </div>
                    <div id="carrusel" class="carousel-item">
                        <img id="carrusel-img" src="{{ url_for('static', filename='images/home3.jpg') }}"
                            class="d-block w-100" alt="..." />
                        <div id="carrusel-text">
                            <h4>Habitaciones modernas y confortables</h4>
                            <p>Habitaciones comodas, modernas y con estilo minimalista</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carousel_home"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carousel_home"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

            <!-- Navbar superpuesto abajo -->
            <nav id="navbar-centro" class="navbar navbar-expand-sm second-navbar">
                <div class="container-fluid justify-content-center">

                    <button class="navbar-toggler btn btn-light rounded-3 shadow-sm p-1" type="button"
                        data-bs-toggle="collapse" data-bs-target="#navbarContenido" aria-controls="navbarContenido"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <i class="bi bi-list fs-4"></i>
                    </button>

                    <div class="collapse navbar-collapse justify-content-center" id="navbarContenido">
                        <div class="navbar-nav menu fw-bold">
                            <a class="nav-link {{is_active('/inicio') }} " href="/inicio">Inicio</a>
                            <a class="nav-link {{is_active('/quienes_somos') }} " href="/quienes_somos">Quiénes
                                Somos</a>
                            <a class="nav-link {{is_active('/servicios') }} " href="/servicios">Servicios</a>
                            <a class="nav-link {{is_active('/noticias') }} " href="/noticias">Noticias</a>
                            <a class="nav-link {{is_active('/contacto') }} " href="/contacto">Contacto</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        {% block content %}


        {% endblock %}

        <!-- Modal guía con imagen -->
        <div class="modal fade" id="modalPDF" tabindex="-1" aria-labelledby="modalPDFLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-xl">
                <div class="modal-content">
                    <div class="modal-header py-2">
                        <h5 class="modal-title" id="modalPDFLabel">Guía para Registrarse</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                    </div>
                    <div class="modal-body p-0" style="height: 80vh; overflow-y: auto;">
                        <img src="{{ url_for('static', filename='images/guia_registro.JPG') }}" alt="Guía de Registro"
                            style="width: 100%; display: block;">
                    </div>
                    <div class="modal-footer py-2">
                        <button type="button" class="btn btn-danger py-1" data-bs-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Ayuda -->
        <div class="modal fade" id="modalAyuda" tabindex="-1" aria-labelledby="modalAyudaLabel" aria-hidden="true">
            <div class="modal-dialog" style="margin-top: 40px; max-width: 500px;">
                <div class="modal-content text-center">

                    <!-- GIF centrado y ajustado -->
                    <div class="d-flex justify-content-center align-items-center pt-4">
                        <img src="{{ url_for('static', filename='images/en_desarrollo.gif') }}" alt="En desarrollo"
                            style="max-width: 300px; width: 100%; height: auto;">
                    </div>

                    <!-- Título -->
                    <div class="modal-header border-0 pt-3 pb-0">
                        <h5 class="modal-title w-100" id="modalAyudaLabel">
                            <i class="bi bi-exclamation-triangle-fill text-warning me-2"></i>¡Funcionalidad en
                            desarrollo!
                        </h5>
                    </div>

                    <!-- Cuerpo -->
                    <div class="modal-body pt-2">
                        <p class="mb-4">Estamos trabajando para ofrecerte esta sección muy pronto.<br>
                            ¡Gracias por tu paciencia!</p>

                        <button type="button" class="btn btn-primary px-5" data-bs-dismiss="modal">OK </button>
                    </div>

                </div>
            </div>
        </div>


        <!-- Modal de Registro de Cliente -->
        <div class="modal fade" id="registroCliente" tabindex="-1" aria-labelledby="loginClienteModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content border-0 shadow-lg">
                    <div class="card p-4 py-2 border-0">
                        <div class="card-body">
                            <!-- Ícono a la izquierda del título -->
                            <div class="d-flex justify-content-center align-items-center mb-3">
                                <i class="bi bi-person-fill text-primary me-2 " style="font-size: 2rem;"></i>
                                <h4 class="mb-0 ">Registro Cliente</h4>
                            </div>

                            <form id="registro" method="POST" action="{{ url_for('cliente.register') }}">
                                <div id="nombre-container">
                                    <input type="text" class="form-control" id="nombre-input" name="nombre"
                                        placeholder=" " required>
                                    <label class="form-label" id="nombre-label">Nombre</label>
                                </div>

                                <div id="documento-container">
                                    <input type="text" class="form-control" id="documento-input" name="documento"
                                        placeholder=" " required>
                                    <label class="form-label" id="documento-label">Número de Documento</label>
                                </div>

                                <div id="correo-container">
                                    <input type="email" class="form-control" id="correo-input" name="correo"
                                        placeholder=" " required>
                                    <label class="form-label" id="correo-label">Correo electrónico</label>
                                </div>

                                <div id="telefono-container">
                                    <input type="text" class="form-control" id="telefono-input" name="telefono"
                                        placeholder=" " required>
                                    <label class="form-label" id="telefono-label">Teléfono</label>
                                </div>

                                <div class="d-grid">
                                    <button class="btn btn-primary" id="btnRegistrar">
                                        <i class="bi bi-check-circle-fill me-2"></i>Registrar
                                    </button>
                                </div>
                            </form>
                            <div class="text-center mt-3">
                                <a class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">
                                    <i class=""></i> Cancelar
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Modal de Login de Cliente -->
        <div class="modal fade" id="loginCliente" tabindex="-1" aria-labelledby="loginClienteModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content border-0 shadow-lg">
                    <div class="card p-4 py-2 border-0">
                        <div class="card-body text-center">
                            <!-- Ícono bonito -->
                            <div class="mb-3">
                                <i class="bi bi-person-circle" style="font-size: 3.5rem; color: #0D6EFD;"></i>
                                <h3 class="card-title ">Iniciar sesión</h3>
                            </div>
                            <!-- Formulario -->
                            <form method="post" action="{{ url_for('cliente.login') }}">
                                <div id="correo-container">
                                    <input type="email" id="email-input" name="correo" placeholder=" " required>
                                    <label id="correo-label">Correo electrónico</label>
                                </div>
                                <div id="pass-container">
                                    <input type="password" id="pass-input" name="documento" placeholder=" " required>
                                    <label id="pass-label">Contraseña (DNI)</label>
                                </div>

                                <div class="d-grid">
                                    <button class="btn btn-primary">Ingresar</button>
                                </div>
                            </form>

                            <div class="text-center mt-3">
                                <a class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">
                                    <i class=""></i> Cancelar
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal para mostrar mensajes flash exitosos-->
        <div class="modal fade" id="mensajeExito" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog ">
                <div class="modal-content text-center border-0 shadow">
                    <div class="modal-body p-4">
                        <i class="bi bi-check-circle-fill text-success mb-3" style="font-size: 3rem;"></i>
                        <h5 class="mb-2">¡Registro exitoso!</h5>
                        <p class="text-muted">Ahora puedes iniciar sesión como cliente.</p>
                        <div class="d-grid">
                            <button class="btn btn-success" data-bs-target="#loginCliente"
                                data-bs-toggle="modal">Iniciar Sesión</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal para mostrar mensajes flash de error -->
        <div class="modal fade" id="mensajeError" tabindex="-1" aria-hidden="true" aria-labelledby="mensajeErrorLabel"
            data-bs-backdrop="static" data-bs-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-sm">
                <div class="modal-content bg-white shadow-sm border border-danger">
                    <div class="modal-header bg-white border-0 d-flex align-items-center">
                        <!-- Icono de advertencia -->
                        <i class="bi bi-exclamation-triangle-fill text-danger me-2 fs-4"></i>
                        <h5 class="modal-title text-danger" id="mensajeErrorLabel">Error en el Registro</h5>
                        <button type="button"
                            class="btn btn-danger btn-sm ms-auto d-flex align-items-center justify-content-center"
                            data-bs-dismiss="modal" aria-label="Cerrar" style="width: 32px; height: 32px;">
                            <i class="bi bi-x text-white " style="font-size: 2rem;"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        {% with messages = get_flashed_messages(category_filter=["error"]) %}
                        {% if messages %}
                        <div class="bg-danger bg-opacity-25 border border-danger rounded p-3">
                            <ul class="list-unstyled mb-0 text-danger fs-6">
                                {% for msg in messages %}
                                <li class="mb-2 d-flex align-items-center text-center">
                                    {{ msg }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endif %}
                        {% endwith %}

                        {% with messages = get_flashed_messages(category_filter=["error_sesion"]) %}
                        {% if messages %}
                        <div class="bg-danger bg-opacity-25 border border-danger rounded p-3">
                            <ul class="list-unstyled mb-0 text-danger fs-6">
                                {% for msg in messages %}
                                <li class="mb-2 d-flex align-items-center text-center">
                                    {{ msg }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endif %}
                        {% endwith %}

                    </div>
                </div>
            </div>
        </div>


        <!-- Modal de Login de Usuario -->
        <div class="modal fade" id="loginUsuario" tabindex="-1" aria-labelledby="loginClienteModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content border-0 shadow-lg">
                    <div class="card p-4 py-2 border-0">
                        <div class="card-body text-center">
                            <!-- Ícono bonito -->
                            <div class="mb-3">
                                <i class="bi bi-person-circle" style="font-size: 3.5rem; color: #198754;"></i>
                                <h3 class="card-title">Iniciar sesión</h3>
                            </div>

                            <!-- Bloque de errores dentro del modal -->
                            {% with messages = get_flashed_messages(category_filter=["user_error"]) %}
                            {% if messages %}
                            <div class="alert alert-danger text-start p-2">
                                <ul class="mb-0" style="list-style: none; padding-left: 0;">
                                    {% for msg in messages %}
                                    <li class="d-flex align-items-center gap-2 mb-1">
                                        <!-- Ícono círculo con X -->
                                        <span class="text-danger" style="font-size: 1.2rem; line-height: 1;">
                                            <i class="bi bi-x-circle-fill"></i>
                                        </span>
                                        <span>{{ msg }}</span>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                            {% endif %}
                            {% endwith %}


                            <!-- Formulario -->
                            <form method="post" action="{{ url_for('usuario.login') }}">
                                <div id="username-container">
                                    <input type="text" id="username-input" name="username" placeholder=" " required>
                                    <label id="correo-label">Username</label>
                                </div>

                                <div id="clave-container">
                                    <input type="password" id="clave-input" name="password" placeholder=" " required>
                                    <label id="clave-label">Password</label>
                                </div>

                                <div class="d-grid">
                                    <button class="btn btn-success">Ingresar</button>
                                </div>
                            </form>

                            <div class="text-center mt-3">
                                <a class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">Cancelar</a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <!-- Footer -->
        <footer class="text-center text-lg-start text-light" id="footer" style="background-color: rgb(0,30,45);">
            <!-- Redes sociales -->
            <section class="p-4 border-bottom">
                <div class="container d-flex justify-content-center">
                    <span class="me-4">Conéctate con nosotros:</span>
                </div>

                <div class="d-flex justify-content-center mt-3 gap-4">
                    <a href="https://www.facebook.com/share/1BW1K6fpGm/" class="text-reset social-icon" target="_blank"
                        rel="noopener noreferrer">
                        <i class="bi bi-facebook"></i>
                    </a>
                    <a href="https://twitter.com/paraiso" class="text-reset social-icon" target="_blank"
                        rel="noopener noreferrer">
                        <i class="bi bi-twitter-x"></i>
                    </a>
                    <a href="https://www.instagram.com/hotel_paraisos/profilecard/?igsh=MWU3Z3Ntem41dWQ3cg%3D%3D"
                        class="text-reset social-icon" target="_blank" rel="noopener noreferrer">
                        <i class="bi bi-instagram"></i>
                    </a>
                    <a href="https://wa.me/message/2FQ445TWW7SDF1" class="text-reset social-icon" target="_blank"
                        rel="noopener noreferrer">
                        <i class="bi bi-whatsapp"></i>
                    </a>
                    <a href="https://mail.google.com/" class="text-reset social-icon" target="_blank"
                        rel="noopener noreferrer">
                        <i class="bi bi-envelope"></i>
                    </a>
                </div>
            </section>

            <!-- Información de contacto -->
            <section class="mt-4">
                <div class="container text-center text-md-start gx-5">
                    <div class="row  justify-content-center">
                        <div class="col-md-4 col-lg-4 col-xl-4 mb-4 text-center">
                            <h6 class="text-uppercase fw-bold mb-4">
                                <i class="bi bi-gem me-2"></i>Hotel Paraíso
                            </h6>
                            <p>
                                Vive el descanso perfecto en cualquier temporada.
                                Naturaleza, comodidad y atención única...
                            <p>¡Todo en un solo lugar!</p>
                            <h2 class="stars">★ ★ ★</h2>
                            </p>
                        </div>



                        <div class="col-md-4 col-lg-4 col-xl-4 mb-md-0 mb-4">
                            <h6 class="text-uppercase fw-bold mb-4">Contacto</h6>
                            <p><i class="bi bi-geo-alt me-2"></i> Av. Las Americas #105, La Paz, BO</p>
                            <p><i class="bi bi-envelope me-2"></i> paraiso@email.com</p>
                            <p><i class="bi bi-telephone me-2"></i> +591 631 769 43</p>
                            <p><i class="bi bi-printer me-2"></i> +591 222 379 55</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Copyright -->
            <div class="text-center p-4 mt-3" style="background-color: rgba(0, 0, 0, 0.2);">
                © 2025 Hotel Paraíso. Todos los derechos reservados.
            </div>
        </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <script>

        document.addEventListener('DOMContentLoaded', function () {
            const flashCategory = "{{ category }}";

            if (flashCategory === "success") {
                const registroModal = bootstrap.Modal.getInstance(document.getElementById('registroCliente'));
                if (registroModal) {
                    registroModal.hide();
                }

                const exitoModal = new bootstrap.Modal(document.getElementById('mensajeExito'));
                exitoModal.show();

            } else if (flashCategory === "error") {
                const errorModal = new bootstrap.Modal(document.getElementById('mensajeError'));
                errorModal.show();

                const registroModal = new bootstrap.Modal(document.getElementById('registroCliente'));
                registroModal.show();
            } else if (flashCategory === "error_sesion") {
                const errorModal = new bootstrap.Modal(document.getElementById('mensajeError'));
                errorModal.show();

                const registroModal = new bootstrap.Modal(document.getElementById('loginCliente'));
                registroModal.show();
            } else if (flashCategory === "user_error") {
                const loginModal = new bootstrap.Modal(document.getElementById('loginUsuario'));
                loginModal.show();
            }
        });


        document.addEventListener('DOMContentLoaded', () => {
            // Selecciona el contenedor de mensajes de error dentro del modal loginUsuario
            const errorAlert = document.querySelector('#loginUsuario .alert-danger');
            if (errorAlert) {
                setTimeout(() => {
                    // Opcional: haz una transición suave (opcional)
                    errorAlert.style.transition = 'opacity 0.3s ease';
                    errorAlert.style.opacity = '0';
                    setTimeout(() => errorAlert.style.display = 'none', 300);
                }, 2500); // 2000 ms después de cargar el DOM
            }
        });

    </script>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>

</html>